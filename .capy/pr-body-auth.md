## Authentication + Onboarding + Family Management

Summary:
- Implemented full auth flow: email/password, phone OTP, MFA options (email OTP), password recovery, biometric unlock, account lockout, trusted device registration.
- Added welcome + role selection onboarding per wireframes.
- Built role-specific registration flows (Elder phone, Caregiver email with family create/join, Youth with guardian approval + code).
- Family group management with 6-character codes, membership, and role-based permissions.
- Supabase schema/policies updated for families, roles, trusted_devices, approvals.
- Riverpod providers for auth state, profile/role, family, and permissions.
- Material 3 + accessibility improvements (60px targets, high contrast, voice feedback for elders).

Changes:
- New screens under lib/features/auth/screens: welcome, role selection, elder/caregiver/youth registration
- New services: AuthService, FamilyService + biometric/trusted device hooks
- Router updates with onboarding routes and role redirects
- Supabase schema/policies additions (families.code, family_members.role, trusted_devices, user_approvals)
- Pubspec deps: local_auth, device_info_plus, flutter_tts, lottie, updated supabase_flutter/go_router/riverpod

Notes:
- Email verification is handled by Supabase. Youth approvals stored in user_approvals with status=pending (caregiver UX to approve can be added next).
- Selecting role writes to profiles(user_type) and user.metadata on sign up.
- Family code join is allowed to authenticated users via policy; consider tightening with invite tokens later.

Testing:
- Initialize with SUPABASE_URL/ANON envs.
- Run app; visit Get Started -> select role -> follow flow.
- Existing users can sign in; try Forgot Password + biometrics (after first login).


₍ᐢ•(ܫ)•ᐢ₎ Generated by [Capy](https://capy.ai) ([view task](https://capy.ai/project/28ebf8b7-cbe5-44e2-96d2-3a092c2e3aa1/task/aacfdc7c-1b6f-4a0d-8ab8-e3df9ab0c128))